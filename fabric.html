<html>
<head>
<script src="jquery-3.3.1.js"></script>
<script src="fabric.min.js"></script>
<!-- <script type="text/javascript" src="konva.js"></script> -->
<style>
    body{background-color:grey}
    #canvas{ border:1px solid grey }
</style>
</head>
<body>
<canvas id="canvas" width="1200" height="700"></canvas>

    <script src="lib/fabric.js"></script>
    <script>
        var canvas = new fabric.Canvas('canvas');




        var rect = new fabric.Rect({
            top : 200,
            left : 200,
            width : 190,
            height : 190,
            fill : 'ivory'
        });
        
		
		var rect2 = new fabric.Rect({top : 210,left : 210,width : 50,height : 50,fill :'black'});
		var rect3 = new fabric.Rect({top : 270,left : 210,width : 50,height : 50,fill :'black'});
		var rect4 = new fabric.Rect({top : 330,left : 210,width : 50,height : 50,fill :'black'});
		var rect5 = new fabric.Rect({top : 210,left : 270,width : 50,height : 50,fill :'black'});
		var rect6 = new fabric.Rect({top : 270,left : 270,width : 50,height : 50,fill :'black'});
		var rect7 = new fabric.Rect({top : 330,left : 270,width : 50,height : 50,fill :'black'});
		var rect8 = new fabric.Rect({top : 210,left : 330,width : 50,height : 50,fill :'black'});
		var rect9 = new fabric.Rect({top : 270,left : 330,width : 50,height : 50,fill :'black'});
		var rect10 = new fabric.Rect({top : 330,left : 330,width : 50,height : 50,fill :'black'});
		var circle = new fabric.Circle({radius: 60, left: 500, top: 300, fill: 'rgba(255,0,0,0.5)'});
		
		canvas.add(rect,rect2,rect3,rect4,rect5,rect6,rect7,rect8,rect9,rect10,circle);
		
		canvas.on({
		'object:moving': onChange,
		'object:scaling': onChange,
		'object:rotating': onChange,
		});
		
		function onChange(options) {
			options.target.setCoords();
			canvas.forEachObject(function(obj) {
			if (obj === options.target) return;
			obj.set('opacity' ,options.target.intersectsWithObject(obj) ? 0.5 : 1);
		});
  }
        
    </script>

</body>
</html>